@page "/cv"

@using PortfolioBuilder.Shared
@using PortfolioBuilder.Client.Services.Interfaces
@inject ICvDetailClientService InterfaceServiceObj;
@inject NavigationManager Navigation




<EditForm Model="cv" OnValidSubmit="GenerateCV">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="FirstName">First Name:</label>
        <InputText id="FirstName" @bind-Value="cv.FirstName" class="form-control" required />
    </div>

    <div class="form-group">
        <label for="LastName">Last Name:</label>
        <InputText id="LastName" @bind-Value="cv.LastName" class="form-control" />
    </div>
    <div class="form-group">
        <label for="Email">Email:</label>
        <InputText id="Email" @bind-Value="cv.Email" class="form-control" />
    </div>

    <div class="form-group">
        <label for="Address">Address:</label>
        <InputText id="Address" @bind-Value="cv.Address" class="form-control" />
    </div>

    <div class="form-group">
        <label for="ContactNo">Contact No:</label>
        <InputText id="ContactNo" @bind-Value="cv.ContactNo" class="form-control" />
    </div>

    <div class="form-group">
        <label for="Degree">Degree:</label>
        <InputText id="Degree" @bind-Value="cv.Degree" class="form-control" />
    </div>

    <div class="form-group">
        <label for="Institute">Institute:</label>
        <InputText id="Institute" @bind-Value="cv.Institute" class="form-control" />
    </div>

    <div class="form-group">
        <label for="JobTitle">Job Title:</label>
        <InputText id="JobTitle" @bind-Value="cv.JobTitle" class="form-control" />
    </div>

    <div class="form-group">
        <label for="Company">Company:</label>
        <InputText id="Company" @bind-Value="cv.Company" class="form-control" />
    </div>

    <div class="form-group">
        <label for="FromDate">From Date:</label>
        <InputText id="FromDate" @bind-Value="cv.FromDate" class="form-control" />
    </div>

    <div class="form-group">
        <label for="ToDate">To Date:</label>
        <InputText id="ToDate" @bind-Value="cv.ToDate" class="form-control" />
    </div>

    <div class="form-group">
        <label for="Skills">Skills:</label>
        <InputText id="Skills" @bind-Value="cv.Skills" class="form-control" />
    </div>

    <div class="form-group">
        <label for="Description">Description:</label>
        <InputText id="Description" @bind-Value="cv.Description" class="form-control" />
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
</EditForm>

@code {
    private CvDto cv = new CvDto();


    async Task GenerateCV()
    {

        string apiResponse=  await InterfaceServiceObj.SaveCV(cv);
        if (apiResponse == "Data Savesuccessfully")
        {
            
            Navigation.NavigateTo("/FetchData");
        }


    }

}

